# Что такое и с чем едят

## Введение

CI/CD (Continuous Integration и Continuous Delivery/Deployment) - одна из таких практик, помогающая разработчикам поддерживать качество продукта, снижать риски и ускорять процесс разработки.

CI/CD объединяет два основных этапа в жизненном цикле разработки ПО:

- Непрерывная интеграция (CI),
- Непрерывное развертывание/поставка (CD).

### CI (Continuous Integration)

Описывает процесс автоматической интеграции изменений в коде из различных веток или от разных разработчиков в основную ветку/ветки проекта. При этом автоматически запускаются проверки качества (линтеры), а также, что новые изменения не сломали существующий функционал (тесты, сборку и другие).

### CD (Continuous Delivery/Deployment)

Представляет собой автоматизацию процесса доставки приложения на различные среды (например, staging, production). Continuous Delivery предполагает автоматическую подготовку приложения к развертыванию, но сам процесс публикации может требовать ручного подтверждения. В случае Continuous Deployment - публикация происходит автоматически при успешном прохождении всех тестов и проверок.

Цель CI/CD заключается в создании стабильной и предсказуемой среды для разработки, тестирования и развертывания приложений. Это особенно важно в современных гибких методологиях разработки, таких как Agile и DevOps.

## Принципы

У CI/CD есть ряд принципов, на которых он основан:

- **Распределение ответственности**. Этапы разработки разделены между членами команды или их подгруппами, особенно при работе над крупными проектами.
- **Снижение рисков**. Каждый разработчик и разработчик-подгруппа должны стремиться минимизировать уязвимости и ошибки на всех этапах разработки.
- **Оптимизация обратной связи**. Успех проекта зависит от взаимодействия разработчиков, клиентов и пользователей.
- **Создание рабочей среды**. Для облегчения совместной работы разработчиков важно иметь общее рабочее пространство.

## Какие проблемы решает

- **Обычно разработчики работают с одними или несколькими окружениями**, в которых приложения развертываются для тестирования и ревью. Использование CI/CD позволяет один раз задать переменные окружения для каждой среды, хранить их в секрете и не задумываться о настройке.
- **Эта практика относится к Agile практикам.** Автоматизация развертывания позволяет разработчикам сосредоточиться на реализации бизнес-требований, качестве кода и безопасности.
- **CI/CD позволяет сократить время ручного запуска тестов и доставку изменений в производственную среду,** что повышает эффективность и качество процесса разработки. Он также позволяет быстро реагировать на обнаруженные ошибки и ускорить процесс доставки новых функций и изменений пользователям.
- **Непрерывная интеграция и непрерывная поставка нуждаются в непрерывном тестировании,** поскольку конечная цель - разработка качественных приложений. Непрерывное тестирование часто реализуется в виде набора различных автоматизированных тестов (регрессионных, производительности и других), которые выполняются в CI/CD конвейере.

## Преимущества и недостатки

У любого процесса/практики есть свои преимущества и недостатки в разных ситуациях. Что касается CI/CD, то тут больше преимуществ и это инвестиция в качество и экономию времени на будущее, но первые результаты можно ощутить уже при самой простой настройке автоматической проверки на качество.

### Преимущества

- **Автоматизация и ускорение процесса разработки.** Автоматические тесты, сборка и развёртывание позволяют выпускать изменения быстрее и без необходимости постоянного ручного запуска.
- **Улучшение качества кода.** Постоянная интеграция и тестирование помогают выявить ошибки на ранних этапах разработки.
- **Быстрые и частые релизы.** Возможность релизить небольшие, но стабильные обновления делает процесс более предсказуемым и управляемым. Таким образом можно релизить даже несколько раз в день.
- **Снижение человеческого фактора.** Автоматизация процессов сводит к минимуму возможность ошибок, вызванных человеческим фактором.
- **Прозрачность и контроль версий.** Все изменения отслеживаются, а процессы построения и тестирования видны всей команде.

### Недостатки

- **Сложность настройки.** Внедрение CI/CD требует времени и ресурсов на начальном этапе. Необходимо настроить автоматические тесты, инфраструктуру для сборки и развёртывания.
- **Зависимость от инфраструктуры.** Некоторые команды могут сталкиваться с ограничениями по ресурсам или времени на настройку CI/CD систем, особенно если инфраструктура сложная или стареющая.

## Существующие решения

Существует множество платформ и инструментов, которые предоставляют функциональность CI/CD.

Их условно можно разделить на 2 группы:

### git-репозиторий → CI/CD

**Jenkins** - мощная и гибкая система для CI/CD, поддерживающая широкий спектр плагинов.

**Travis CI** - один из пионеров в мире облачных решений для CI, широко используется в open-source проектах.

В то же время, **CircleCI** фокусируется на простоте и скорости выполнения CI/CD процессов.

### git-репозиторий → CI/CD + hosting

**Github Actions/Gitlab CI/Bitbucket Pipelines** - решения для CI/CD, встроенные в соответствующую систему, с высокой интеграцией с репозиториями и широкими возможностями автоматизации.

**Netlify/Vercel** - предлагают простоту интеграции (необходимо лишь привязать репозиторий) как для широкого спектра веб-приложений (**Netlify**) так и заточенные под более узкую аудиторию и инструменты Next.js (**Vercel**).

**Cloudflare/AWS/Google** - кроме вышеперечисленных сервисов предоставляют целую экосистему других сервисов, которые могут быть интегрированы в продукт.

## Почему GitHub Actions?

GitHub Actions – это мощное решение для CI/CD, интегрированное непосредственно в экосистему GitHub.

Ключевые преимущества:

- **Глубокая интеграция с GitHub.** Так как GitHub - одна из самых популярных платформ для управления кодом, Actions позволяют автоматически реагировать на события, происходящие в репозиториях: коммиты, pull-request’ы, релизы и т.д.
- **Хорошая документация.** Является немаловажным фактором, когда Вы только знакомитесь или пытаетесь самостоятельно описать свой флоу.
- **Маркетплейс.** Большое количество готовых решений как от самого Github, так и от других компаний вендоров, а также других разработчиков. Можно публиковать свои «рецепты».
- **Простота настройки.** GitHub Actions использует YAML-конфигурации, которые можно легко написать, чтобы настроить различные процессы сборки, тестирования и развертывания.
- **Гибкость и расширяемость.** Благодаря широкому выбору готовых действий (actions) и возможности создавать свои собственные, GitHub Actions можно использовать для множества задач: от сборки и проверки проекта до деплоя на продакшн.
- **Облачная среда.** GitHub предлагает бесплатные минуты для CI/CD процессов, что особенно привлекательно для небольших команд и open-source проектов.

## Итог

CI/CD - это важный инструмент для современных веб-разработчиков, который помогает ускорить процесс разработки, повысить качество кода и сделать релизы предсказуемыми.

Хотя внедрение может требовать усилий и времени, выгоды от автоматизации и повышения стабильности проекта с лихвой окупают эти затраты. GitHub Actions, с его простотой интеграции и гибкими возможностями, является отличным выбором для команд, уже использующих GitHub для управления кодом.
